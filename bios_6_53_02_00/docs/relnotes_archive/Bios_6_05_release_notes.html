<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>



  



  
  

  
  

  
  

  <title>DSP/BIOS Release Notes</title><!-- For now, we use the doxygen style sheet --><link href="" rel="stylesheet" type="text/css">




  
  
  
  <style type="text/css">
  </style>
  
  
  
  <style type="text/css">
  </style></head>
<body>




<table width="100%">




  <tbody>




    <tr>




      <td bgcolor="black" width="1"><a href="http://www.ti.com"> <img src="docs/tilogo.gif" border="0" height="54" width="222"></a></td>




      <td bgcolor="red"><img src="docs/titagline.gif" height="26" width="314"></td>




    </tr>




  
  
  
  </tbody>
</table>




<h1><a name="BIOS_TOP">DSP/BIOS 6.05.00.09
Release Notes</a></h1>




<p>
This release note is divided into the following sections:
</p>




<p class="sections">
<a href="#Introduction">Introduction</a>,
<a href="#Documentation_Links">Documentation</a>,
<a href="#Whats_New">What's New</a>,
<a href="#Upgrading_And_Compatibility_Info">Upgrading And
Compatibility Information</a>,
<a href="#Host_Support">Host Support</a>,
<a href="#Dependencies">Dependencies</a>,
<a href="#Device_Support">Device Support</a>,
<a href="#Validation">Validation Information</a>,
<a href="#Known_Issues">Known Issues</a>,
<a href="#Benchmarks">Benchmarks</a>,
<a href="#Versioning">Versioning</a>,
<a href="#Tech_Support_And_Prod_Updates">Technical Support
And Product Updates</a>,
</p>




<hr>
<h2><a name="Introduction">Introduction</a></h2>
DSP/BIOS 6.05.00.09 is a Point Release of DSP/BIOS based on BIOS 6.00.<br><br>DSP/ BIOS is a real-time operating system that provides
pre-emptive deterministic<span style="">&nbsp;</span>multithreading. The DSP/BIOS 6.x releases introduce a completely new
DSP/BIOS kernel and toolset. The DSP/BIOS 6.x releases include numerous major
enhancements, including completely new kernel APIs. They also include
compatibility layers and tooling to facilitate easy porting of applications
developed on DSP/BIOS 5.x releases.



<p class="MsoNormal"><o:p></o:p>A number of tools and libraries that were provided as an
integrated part of DSP/BIOS 5.x releases must now be downloaded separately to
obtain a functional solution. It is essential for even experienced DSP/BIOS
users to refer to the <i style="">Getting Started
Guide</i> and to the Upgrading and Compatibility Information section for
further details.</p>
Please read the Getting Started Guide for help installing and setting
up your environment to use DSP/BIOS 6.05.00.09.





<br><br><a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Documentation_Links">Documentation</a></h2>




<p>
The following documentation is provided with this release: </p>




<ul>




  <li><a href="docs/Bios_Getting_Started_Guide.pdf">DSP/BIOS 6
Getting
Started Guide</a></li>




  <li><a href="docs/Bios_User_Guide.pdf">DSP/BIOS
6 User's
Guide</a></li><li><a href="docs/Bios_Legacy_App_Note.pdf">Migrating a DSP/BIOS 5 Application to DSP/BIOS 6</a></li>




  <li>See Getting Started Guide for instructions to run
interactive doc tool. (xdc.tools.cdoc)</li>




</ul>




<p>Release notes from previous releases are also available in the
<a href="docs/relnotes_archive">release notes archive</a>
directory. </p>




<a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Whats_New">What's New</a></h2>




<p><b>6.05.00.09 Release (this release)</b><big><span class="011215021-21062007"><font size="2"><big>.</big></font></span></big>




  </p><p class="MsoNormal">The following major enhancements have been introduced when
compared to DSP/BIOS 5.32 or earlier releases. &nbsp;For a more detailed explanation
of each enhancement, please refer to the <i style="">TMS320
DSP/BIOS 6 User&#8217;s</i> and <i style="">API Reference Guides</i>,
except when the <i style="">XDC Consumer User&#8217;s Guide</i>
is listed as the reference.</p><p class="MsoNormal">The enhancements are listed in the particular DSP/BIOS 6.x release
in which they occurred:<b style=""></b></p><h3><b style="">DSP/BIOS 6.05<o:p></o:p></b></h3><span style="font-weight: bold;">Improved Benchmarks:</span>&nbsp;
Benchmarks are now provided for the supported targets.&nbsp; These are
provided in the ti.sysbios.benchmarks package.&nbsp; The benchmarks are
described in an appendix to the DSP/BIOS User's Guide.&nbsp; Results
are provided with the product.&nbsp; See&nbsp;<a href="#Benchmarks">Benchmarks</a>.<br>&nbsp;<br><span style="font-weight: bold;">Improved BIOS 5.x Legacy Support:</span>&nbsp;
A number of legacy APIs have been fixed or improved.&nbsp; The
ti.bios.conversion tool has had some improvements.&nbsp; A new app
note&nbsp;<a href="#Documentation_Links">Document</a> "Migrating a DSP/BIOS 5 Application to DSP/BIOS 6" is now provided.<br>&nbsp;<br><span style="font-weight: bold;">Arm Thumb Mode Support:</span>&nbsp; Thumb mode libraries are now provided for the Arm9 target.<br>&nbsp;<br><span style="font-weight: bold;">Bug Fixes and Maintenance:</span>&nbsp; A number of bugs and minor enhancements are included including support for some new devices (e.g., DM510).<br><br><h3><o:p></o:p><b style="">DSP/BIOS 6.00<o:p></o:p></b></h3><b style="">Event Module:</b> The
Event module enables a task to wait on multiple events. The Event module
supports up to 32 events (16 for parts with 16-bit integers), which can be any AND or OR combination of custom
user-defined events, I/O events, or a semaphore, message queue, or mailbox post.<br><o:p></o:p><b style=""><br>Priority-Inheritance Gate:</b>
Priority-inheritance gates automatically resolve priority-inversion, making it
safer to share resources between high-priority and low-priority tasks. <br><o:p></o:p><b style=""><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;;"><br>Memory
Manager:</span></b><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;;"> DSP/BIOS utilizes the memory manager that comes
with the XDC run-time. This memory manager allows for the concept of multiple,
concurrent heaps and enables users to easily add their own custom heaps for
performance or debug purposes. See the <i style="">XDC
Consumer User&#8217;s Guide</i>, section 4.5 for further details. &nbsp;DSP/BIOS provides
three heap implementations that may be used </span>with this manager: HeapMem and HeapBuf, which correspond to
the MEM and BUF modules from earlier DSP/BIOS releases and HeapMultiBuf, which
provides a faster, more deterministic multiple-pool based-heap whose
performance does not degrade with fragmentation.<br><o:p></o:p><b style=""><br>HWI and SWI Hooks:</b>
There are now hook functions available for both hardware interrupts (HWIs) and
software interrupts (SWIs) as well as tasks. If these hooks are not selected
during configuration, there is not additional overhead incurred.<br><o:p></o:p><b style=""><br>Greater Number of Priority Levels:</b> The number of priority levels for both tasks and software
interrupts is now configurable and has been increased to up to 32 levels for
each (16 for devices with 16-bit integers).<br><o:p></o:p><b style=""><br>Dynamic and static
creation for all objects:</b> All objects may now be created both dynamically
and statically<br><o:p></o:p><b style=""><br>Support for ARM926
core:</b> DSP/BIOS now includes libraries for some ARM926-based devices. Both
Thumb and 32-bit mode libraries are provided.<br><o:p></o:p><b style=""><br>DSP/BIOS APIs have
standardized error handling:</b> All DSP/BIOS system calls that can fail, such
as object creation calls, now have a standardized way of returning errors using
the XDC error module. This error-block-based approach has significant
advantages compared to using return codes, including having all errors pass
through a single point and ensuring that an error handler can be called without
having to explicitly check a return code. See the <i style="">XDC Consumer User&#8217;s Guide</i> for further details.<br><o:p></o:p><b style=""><br>DSP/BIOS APIs have
parameter checking:</b> DSP/BIOS APIs can now be configured to have built-in
debug asserts that are raised, for example, if an invalid task priority level
is passed as a parameter. For further information on the behavior of Asserts,
See the <i style="">XDC Consumer User&#8217;s Guide</i> for further details.<br><o:p></o:p><b style=""><br>DSP/BIOS functions
are placed in individual subsections:</b> Each DSP/BIOS function is now placed
in a subsection named .text:&lt;DSP/BIOS API Name&gt;. This makes it simple to
locate different <br>parts of DSP/BIOS in different areas of memory.<br><o:p></o:p><b style=""><br>BIOS Emulation
library for Windows:</b> The DSP/BIOS emulation library for Windows enables
DSP/BIOS systems calls and multithreading behavior to be used in a Windows
application. This capability allows much more comprehensive prototyping of DSP
applications in a Windows desktop environment, in which developers can use
software debug and test tools not available for an embedded target.<br><h4>Defects Fixed:</h4>SDSCM00017981&nbsp;&nbsp;&nbsp; CDOC should give syntax to set CPU frequency as in the BIOS.xs file<br>SDSCM00018948&nbsp;&nbsp;&nbsp; Legacy BIOS headers (e.g. que.h and tsk.h) are noisy with -pdr<br>SDSCM00019061&nbsp;&nbsp;&nbsp; Enhancement to error and swi example<br>SDSCM00019393&nbsp;&nbsp;&nbsp;
For implementation efficiency the number of Swi and Task priorities
should be based on the size, in bits, of a UInt<br>SDSCM00019442&nbsp;&nbsp;&nbsp; CCS needs BIOS 6.xx select in Component Manager.<br>SDSCM00019446&nbsp;&nbsp;&nbsp; Add -D option ti.bios.conversion tool<br>SDSCM00019546&nbsp;&nbsp;&nbsp; Clock functions run out of order when Clock Swi gets delayed<br>SDSCM00019651&nbsp;&nbsp;&nbsp; Conversion needs to translate some BIOS functions to prevent conflicting signatures<br>SDSCM00020197&nbsp;&nbsp;&nbsp; remove eint0Mask and eint1Mask config params from dm6446/Hwi module<br>SDSCM00020268&nbsp;&nbsp;&nbsp; ti.sysbios.benchmarks package needs review and cleanup<br>SDSCM00020329&nbsp;&nbsp;&nbsp; Exceptions need to be enabled by default for BIOS 6<br>SDSCM00020480&nbsp;&nbsp;&nbsp; Change Mailbox Event Object and ID names to make their use clearer<br>SDSCM00020503&nbsp;&nbsp;&nbsp;&nbsp;Need to support Codegen 4.5 for ARM<br>SDSCM00020535&nbsp;&nbsp;&nbsp; Create app note describing how to migrate from BIOS 5.0 to BIOS 6.0<br>SDSCM00020666&nbsp;&nbsp;&nbsp; The legacy conversion tool should take care of finding tci files included using -D option<br>SDSCM00020667&nbsp;&nbsp;&nbsp; The legacy conversion tool should generate correct header file<br>SDSCM00021017&nbsp;&nbsp;&nbsp; Task_checkStacks should be enabled via config parameter and called directly (not via Hook)<br>SDSCM00021273&nbsp;&nbsp;&nbsp;&nbsp;BIOS 6 legacy function TSK_isTSK() returns true if called from within main()<br>SDSCM00021280&nbsp;&nbsp;&nbsp; BCACHE_getSize()&nbsp; doesn't set the cache values in the structure it returns<br>SDSCM00021600&nbsp;&nbsp;&nbsp; Mailbox_destruct fails to tear down a statically allocated instance<br>SDSCM00021701&nbsp;&nbsp;&nbsp; Deleting a task in Task_Mode_READY state doesn't remove it from the ready list<br>SDSCM00021748&nbsp;&nbsp;&nbsp;
remove SWI_getattrs, SWI_setattrs, SWI_orhook, SWI-getpri&nbsp; from
BIOS6 legacy deprecated&nbsp; list<br>SDSCM00021887&nbsp;&nbsp;&nbsp; Cache should be enabled by default for C67P<br>SDSCM00021938&nbsp;&nbsp;&nbsp; HeapBuf and HeapMultiBuf should use Assert instead of Errors for coding errors<br>SDSCM00022326&nbsp;&nbsp;&nbsp; HeapBuf create should not assign align to getMaxDefaultTypeAlign if not zero<br>SDSCM00022437&nbsp;&nbsp;&nbsp; Timestamp_get64() for 64x+ family should disable interrupts around TSCL/H register read<br>SDSCM00022440&nbsp;&nbsp;&nbsp; C67P Timer module should re-enable timer interrupt before calling tick fxn.












































<ul>




</ul><a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Upgrading_And_Compatibility_Info">Upgrading and Compatibility Information</a></h2>DSP/BIOS 6.x releases have many significant changes from
DSP/BIOS 5.x. &nbsp;It is important to understand the information below in order to
successfully use DSP/BIOS 6.x and to migrate applications from DSP/BIOS 5.x.



<p class="MsoNormal"><o:p></o:p><b style="">DSP/BIOS no longer
contains all the tools and objects you will need<o:p></o:p></b></p>

<p class="MsoNormal">The XDC tools now provide the DSP/BIOS configuration tools and Platform support.
XDC also includes a minimal run-time environment that provides the LOG, System,
Asserts, Error handling, Timestamp, and Memory Allocation APIs that will be
used by DSP/BIOS applications. &nbsp;Please refer to the <i style="">Getting Started Guide</i> on where to download the XDC tools and
run-time.</p>



<p class="MsoNormal"><o:p></o:p>The RTDX libraries are now provided separately from
DSP/BIOS. You can download the RTDX product from:</p>



<p class="MsoNormal"><o:p></o:p><a href="https://www-a.ti.com/downloads/sds_support/targetcontent/rtdx/index.html">https://www-a.ti.com/downloads/sds_support/targetcontent/rtdx/index.html</a></p>



<p class="MsoNormal"><o:p></o:p><b style="">Migrating DSP/BIOS
5.x applications to DSP/BIOS 6.x<o:p></o:p></b></p>

<p class="MsoNormal">DSP/BIOS 6.x has different APIs compared to those in
DSP/BIOS 5.x. Configuration scripts are also incompatible between the two
releases. &nbsp;To provide easy migration of DSP/BIOS 5.x applications, an API
compatibility layer is provided along with a conversion tool that converts
configuration scripts to work with XDC and DSP/BIOS 6.x. &nbsp;The API compatibility
layer provides 100% C source code compatibility with the exception of a few
APIs that are no longer supported. &nbsp;For more complete details of migrating
DSP/BIOS 5.x applications and configuration scripts, please refer to <i style="">Appendix A: Converting DSP/BIOS 5.x
Applications</i> in the <i style="">DSP/BIOS User&#8217;s
Guide</i>. Also see the&nbsp;<i style="">Migrating a DSP/BIOS 5 Application to DSP/BIOS 6 </i>document<i style="">.</i></p>



<p class="MsoNormal"><o:p></o:p>As mentioned above, some APIs previously supported in
DSP/BIOS 5.x releases will no longer be supported in this release or the
compatibility layer. &nbsp;Complete details are provided in the Appendix A referenced
above.</p><a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Host_Support">Host Support</a></h2>




<ul type="">




  <li>Supported Operating Systems</li>




  
  
  
  <ul type="circle">




    <li>Windows XP, Windows Vista</li>




    <li>Linux [RH3 and RH4]</li>




  
  
  
  </ul>




</ul>




<a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Dependencies">Dependencies</a></h2>




<ul>




  <li>Required Software</li>




  
  
  
  <ul type="circle">




    <li>Code Composer Studio Version 3.3 or higher</li><li>Code Generation Tools</li><ul><li>C6X version 6.0.13 or higher</li><li>ARM version 4.5 or higher</li></ul>




  
  
  
  </ul>




  <li>Required Hardware</li>




  
  
  
  <ul type="circle">




    <li>See Device Support Section below.</li>




  
  
  
  </ul>




</ul>




<a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Device_Support">Device Support</a></h2>




<p>This release supports the following devices: </p>




<table border="1">




  <tbody>




    <tr>




      <td>&nbsp;</td>




      <th>Device</th>




      <th>Platform</th>




      <th>Runtime Model</th>




    </tr>




    <tr>




      <th>64x</th>




      <td>6416</td>




      <td>dsk6416</td>




      <td>Little Endian</td>




    </tr>




    <tr>




      <th>&nbsp;</th>




      <td>DM642</td>




      <td>evmDM642</td>




      <td>Little Endian</td>




    </tr>




    <tr>




      <th>64x+</th>




      <td>DM6446 </td>




      <td>evmDM6446</td>




      <td>Little Endian</td>




    </tr>




    <tr>




      <th>&nbsp;</th>




      <td>6455 </td>




      <td>evm6455</td>




      <td>Little Endian</td>




    </tr>




    <tr>




      <th>67x+</th>




      <td>6727</td>




      <td>padk6727</td>




      <td>Little Endian</td>




    </tr>




    <tr>




      <th>ARM</th>




      <td>DM6446 </td>




      <td>evmDM6446</td>




      <td>Little Endian</td>




    </tr>




    <tr><td></td><td>DM510</td><td>app510</td><td>Little Endian (32 bit and thumb)</td></tr><tr>




      <th>PC</th>




      <td>Windows </td>




      <td>win32</td>




      <td>Visual Studio 8.0</td>




    </tr>




  
  
  
  </tbody>
</table>




<br>




&nbsp;<br>




<a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Validation">Validation Information</a></h2>




<p>This release was built using the following components: </p>




<ul>




  <li>C6x Code Generation Tools version 6.0.14</li>




  <li>Arm Code Generation Tools version 4.5</li>




  <li>Microsoft Visual Studios version 8.0</li>




</ul>




<p>This release was validated using the following components: </p>




<ul>




  <li>CCS 3.3</li>




  <li>C6x Code Generation Tools version 6.0.14</li>




  <li>Arm Code Generation Tools version 4.5</li>




  <li>Microsoft Visual Studios version 8.0</li>




</ul>




<a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Known_Issues">Known Issues</a></h2>




<h3>The following issues are known to affect this release: </h3><ul><li>SDSCM00018930
-- BIOS 6.x UG needs section describing Load module.&nbsp;&nbsp;The
DSP/BIOS User's Guide needs to describe the Load module.&nbsp; Check
the
on-line 'cdoc' documentation for information about the Load module.</li><li>SDSCM00021854
-- BIOS needs to support ARM9's MMU. &nbsp;DSP/BIOS should provide MMU
APIs in the ti.sysbios.hal package and ti.sysbios.family.arm9.*
packages to allow easy management of the MMU.&nbsp; Currently, the
application has to do this themselves.&nbsp; On some parts, the MMU
must be enabled to use the cache.<br></li><li>SDSCM00022297
-- ARM9 Cache writeback, invalidate and wbinv APIs are not reliable --
can cause system hang. &nbsp;The ARM9 Cache APIs are not working
correctly. We recomment not using these APIs until the issue is
resolved.&nbsp; </li><li>SDSCM00022406
-- Semaphore_pend(), Event_pend(), and Task_sleep() have large
latencies when timeout specified. &nbsp;Semaphore_pend(), Event_pend(),
and Task_sleep() disable interrupts for
a long time when the specified timeout is not 0 or forever.&nbsp; The
pending task is inserted into a timer queue with interrupts
disabled.&nbsp;
The length of time interrupts are disabled is a function of the timeout
value and the number of objects on the one-shot timeout queue.</li><li>SDSCM00022456
-- Add section in GSG about BIOS 6.x selection in Component Manager.
&nbsp;The DSP/BIOS Getting Started Guide does not mention the need to
use the
CCS 3.x component manager to select DSP/BIOS 6.x.&nbsp; The component
manager must be set to BIOS 6.x for correct CCS .pjt build operation.</li></ul>









<ul>




</ul>




<a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Benchmarks">Benchmarks</a></h2><a name="Benchmarks"></a> &nbsp;&nbsp; &nbsp;For a full description of Benchmarks please see the appendices in the&nbsp;<a href="docs/Bios_User_Guide.pdf">DSP/BIOS
6 User's
Guide</a>.




<ul>




  <li><a href="packages/ti/sysbios/benchmarks/results.html"><span style="text-decoration: underline;">Timing and Size Benchmarks</span></a></li></ul>









<a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Versioning">Versioning</a></h2>




<p>This product's version follows a version format, <b>M.mm.pp.bb</b>,
where <b>M</b> is a single digit Major number, <b>mm</b>
is 2 digit minor number, <b>pp</b> is a 2 digit patch
number, and <b>b</b> is an unrestricted set of digits used
as an incrementing build counter. </p>




<p>To support multiple side-by-side installations of the
product,
the product version is encoded in the top level directory, ex. <b>bios_6_00</b>.
</p>




<p>Subsequent releases of patch upgrades will be identified by
the patch number, ex. BIOS 6.00.01 with directory <b>bios_6_00_01</b>.
Typically, these patches only include critical bug fixes. </p>




<p>Please note that version numbers and compatibility keys are
NOT the same. For an explanation of compatibility keys, please refer to
the 'Upgrade and Compatibility Information' section. </p>




<a href="#BIOS_TOP">back to top</a>
<hr>
<h2><a name="Tech_Support_And_Prod_Updates"></a>Technical
Support and Product Updates</h2>




<ul>




  <li>Please contact softwaresupport@ti.com for technical
support.</li>




</ul>




<a href="#BIOS_TOP">back to top</a>
<hr>
<p>Last updated: Dec 20, 2007  Rev: b09</p>




</body></html></body>
</html>
